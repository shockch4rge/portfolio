---
import Frame from "@content/components/frame/Frame.astro";
import { Stepper } from "@content/components/Stepper";
import { Code } from "astro-expressive-code/components";
import step1 from "./steps/1.d.ts?raw";
import step2 from "./steps/2.d.ts?raw";
import step3 from "./steps/3.d.ts?raw";
import step4 from "./steps/4.d.ts?raw";
import step5 from "./steps/5.d.ts?raw";
import step6 from "./steps/6.d.ts?raw";
import step7 from "./steps/7.d.ts?raw";

const slotPrefix = "fib-demo";
---

<Frame noPadding>
	<Stepper maxSteps={7} stepId={slotPrefix} client:load>
		<Code class="mx-0!" code={step1} lang="ts" slot={`${slotPrefix}-step-0`} meta="twoslash {2-5}" />
		<Code class="mx-0!" code={step2} lang="ts" slot={`${slotPrefix}-step-1`} meta="twoslash {6-7}" />
		<Code class="mx-0!" code={step3} lang="ts" slot={`${slotPrefix}-step-2`} meta="twoslash {8}" />
		<Code
			class="mx-0!"
			code={step4}
			lang="ts"
			slot={`${slotPrefix}-step-3`}
			meta="twoslash ins='Add<Sum, Prev>'"
		/>
		<Code class="mx-0!" code={step5} lang="ts" slot={`${slotPrefix}-step-4`} meta="twoslash ins=' Sum,'" />
		<Code
			class="mx-0!"
			code={step6}
			lang="ts"
			slot={`${slotPrefix}-step-5`}
			meta="twoslash ins='Add<Counter, 1>'"
		/>
		<Code class="mx-0!" code={step7} lang="ts" slot={`${slotPrefix}-step-6`} meta="twoslash {10}" />
	</Stepper>
</Frame>
